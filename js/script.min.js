"use strict";var _this=void 0;document.addEventListener("DOMContentLoaded",(function(e){var t=document.querySelector(".mobile-menu"),o=document.querySelector(".burger");if(t){o.addEventListener("click",(function(){t.classList.toggle("show"),document.body.classList.toggle("no-scroll"),o.classList.toggle("active")}))}!function(){var e=document.querySelector(".avtocrons__container");if(e){var t,o=function(){document.documentElement.clientWidth<=574&&"false"===e.dataset.mobile?(t=new Swiper(e,{slidesPerView:2,spaceBetween:10,breakpoints:{320:{slidesPerView:1.9,spaceBetween:10},420:{slidesPerView:2.5,spaceBetween:17}},navigation:{nextEl:".avtocrons__button-next",prevEl:".avtocrons__button-prev"}}),e.dataset.mobile="true"):document.documentElement.clientWidth>574&&(e.dataset.mobile="false",e.classList.contains("swiper-container-initialized")&&t.destroy())};o(),window.addEventListener("resize",o)}}(),function(){var e=document.querySelector("#ymap");if(e){var t=e.getAttribute("icon-url");ymaps.ready((function(){var e=new ymaps.Map("ymap",{center:[55.736185,37.577811],zoom:10},{searchControlProvider:"yandex#search"}),o=ymaps.templateLayoutFactory.createClass('<div style="color: #FFFFFF; font-weight: bold;">$[properties.iconContent]</div>'),n=new ymaps.Placemark(e.getCenter(),{hintContent:"Собственный значок метки",balloonContent:"Это красивая метка"},{iconLayout:"default#image",iconImageHref:t,iconImageSize:[53,53],iconImageOffset:[-5,-38]}),c=new ymaps.Placemark([55.661574,37.573856],{hintContent:"Собственный значок метки с контентом",balloonContent:"А эта — новогодняя",iconContent:"12"},{iconLayout:"default#imageWithContent",iconImageHref:"images/ball.png",iconImageSize:[48,48],iconImageOffset:[-24,-24],iconContentOffset:[15,15],iconContentLayout:o});e.geoObjects.add(n).add(c),e.behaviors.disable("scrollZoom")}))}}();document.querySelector(".slots-choice");var n=document.querySelectorAll(".select__header"),c=document.querySelectorAll(".select__item"),r=document.querySelectorAll(".select");if(n.length){for(var l=function(){d(this.closest(".select").dataset.select),this.closest(".select").classList.toggle("active")},i=function(){var e=this.textContent,t=this.querySelector("input").value,o=this.closest(".select"),n=o.querySelector(".select__current"),c=o.querySelector(".select__header input");n.textContent=e,c.value=t,o.classList.remove("active")},s=0;s<n.length;s++)n[s].addEventListener("click",l);for(var a=0;a<c.length;a++)c[a].addEventListener("click",i)}function d(e){for(var t=0;t<r.length;t++)+e!=+r[t].dataset.select&&r[t].classList.remove("active")}var u=document.querySelectorAll(".masked");u.length&&u.forEach((function(e){Maska.create(e)}));var m=document.querySelector(".header"),v=m.scrollHeight,y=window.scrollY;function f(e,t){t>=e?m.classList.add("fixed"):m.classList.remove("fixed")}function g(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.style.maxHeight?(o&&e.classList.contains("visible")&&(e.style.overflow="hidden"),e.style.maxHeight=null,t.classList.remove("opened")):(o&&e.classList.contains("visible")&&setTimeout((function(){e.style.overflow="visible"}),100),e.style.maxHeight=e.scrollHeight+"px",t.classList.add("opened"))}f(v,y),window.addEventListener("resize",(function(e){y=window.scrollY,f(v=m.scrollHeight,y)})),window.addEventListener("scroll",(function(e){y=window.scrollY,f(v=m.scrollHeight,y)}));var h=document.querySelector(".btn--text"),b=document.querySelector(".hidden-body");h&&h.addEventListener("click",(function(e){g(b,h)}));var L=document.querySelectorAll("[btn-catalog]"),p=document.querySelectorAll(".sidebar__body-block .block-body__body")[0],S=document.querySelector("[btn-hide-body]"),_=document.querySelector(".sidebar__body");L.length&&(g(p,L[0]),L.forEach((function(e){e.addEventListener("click",(function(e){g(e.currentTarget.closest(".sidebar__body-block").querySelector(".block-body__body"),e.currentTarget)}))})),S.addEventListener("click",(function(e){!function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.style.maxHeight?(o&&e.classList.contains("visible")&&(e.style.overflow="hidden"),e.style.maxHeight=null,t.classList.remove("opened")):(o&&e.classList.contains("visible")&&(e.style.overflow="visible"),e.style.maxHeight="100%",t.classList.add("opened"))}(_,_this)})));var q=document.querySelectorAll("[btn-view]"),w=document.querySelector(".catalog__products-products");q.forEach((function(e){e.addEventListener("click",(function(e){"list"===e.currentTarget.dataset.view?(w.classList.add("list"),e.currentTarget.parentElement.querySelector("button[btn-view].active").classList.remove("active"),e.currentTarget.classList.add("active")):(e.currentTarget.parentElement.querySelector("button[btn-view].active").classList.remove("active"),w.classList.remove("list"),e.currentTarget.classList.add("active"))}))}));var E=document.querySelectorAll(".form__area");E.length&&E.forEach((function(e){e.addEventListener("keyup",(function(e){console.log(e.target.scrollTop),e.target.scrollTop>0?e.target.style.height=e.target.scrollHeight+"px":e.target.style.height="106px"}))})),document.body.addEventListener("click",(function(e){e.target.closest(".select")||d();var o=e.target.closest("[modal-btn]"),n=document.querySelector(".modal-overlay");if(o){e.preventDefault();var c=document.querySelector(o.getAttribute("modal-btn"));if("#order-one"===o.getAttribute("modal-btn"))!function(e,t){var o=t.querySelector(".product__img img").getAttribute("src"),n=t.closest(".container").querySelector(".product-title").textContent,c=t.getAttribute("data-price");e.querySelector(".modal-info-title").value=n,e.querySelector(".modal-info-price").value=c,e.querySelector(".modal__title").textContent=n,e.querySelector(".modal__price .price").textContent=c,e.querySelector(".modal__img img").setAttribute("src",o)}(c,document.querySelector(".product--the-one"));n.classList.add("modal-overlay--show"),function(e){e.style.display="flex",setTimeout((function(){e.classList.add("active")}),200),document.body.classList.add("no-scroll")}(c)}n.addEventListener("click",(function(e){(e.target===n||e.target.closest(".modal__close"))&&function(e){e.forEach((function(e){e.classList.remove("active"),e.querySelectorAll(".modal__form").forEach((function(e){return e.reset()})),e.querySelectorAll("small").forEach((function(e){return e.classList.remove("error")})),setTimeout((function(){e.style.display="none",n.classList.remove("modal-overlay--show")}),300)})),t.classList.contains("show")||document.querySelector(".catalog-menu--active")||document.body.classList.remove("no-scroll")}(document.querySelectorAll(".modal"))}))}));var x=document.querySelectorAll("[input-number]");x.length&&x.forEach((function(e){e.addEventListener("input",(function(e){e.target.value=e.target.value.replace(/\D/g,"")}))}));var k=document.querySelector(".header__search"),A=document.querySelector("[btn-show-search]");k&&A.addEventListener("click",(function(e){e.preventDefault(),k.classList.add("show")}))}));